
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Running the Build &#8212; HTPolyNet 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="The Configuration File" href="configuration.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="running-the-build">
<span id="dgeba-run"></span><h1>Running the Build<a class="headerlink" href="#running-the-build" title="Permalink to this headline">¶</a></h1>
<p>Now, in our working directory <code class="docutils literal notranslate"><span class="pre">my_dgeba_pacm_build</span></code>, we are ready to launch HTPolyNet:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> my_dgeba_pacm_build
<span class="gp">$ </span>ls
<span class="go">DGE-PAC.yaml  lib/</span>
<span class="gp">$ </span>htpolynet run DGE-PAC.yaml -lib lib -log my_build.log --loglevel debug <span class="p">&amp;</span>
<span class="go">[1]</span>
<span class="gp">$ </span>ls
<span class="go">DGE-PAC.yaml  my_build.log  lib/  proj-0/</span>
<span class="gp">$</span>
</pre></div>
</div>
<p>HTPolyNet is instructed here to use the local <code class="docutils literal notranslate"><span class="pre">./lib/</span></code> as the molecule library; not including a value for <code class="docutils literal notranslate"><span class="pre">-lib</span></code> forces HTPolyNet to use the system library in the <code class="docutils literal notranslate"><span class="pre">Library</span></code> subpackage, and if you are making new molecules, they won’t be there.  It is also instructed to write logging messages to <code class="docutils literal notranslate"><span class="pre">my_build.log</span></code> at the <code class="docutils literal notranslate"><span class="pre">debug</span></code> (most informative) level.  The build can take several hours, so we are running it in the background.  All the action is happening in <code class="docutils literal notranslate"><span class="pre">proj-0</span></code> (and of course being reportedon in <code class="docutils literal notranslate"><span class="pre">my_build.log</span></code>), so let’s look in there.</p>
<section id="parameterization-results">
<h2>Parameterization results<a class="headerlink" href="#parameterization-results" title="Permalink to this headline">¶</a></h2>
<p>The first major block of calculations involves parameterizing all required molecular templates.  So after a few minutes, we can inspect the parameterization results while the build continues:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> proj-0
<span class="gp">$ </span>ls
<span class="go">molecules/  plots/  systems/</span>
<span class="gp">$ </span><span class="nb">cd</span> molecules/parameterized
<span class="gp">$ </span>ls DGE*.gro
<span class="go">DGEC-1.gro  DGEC.gro  DGE.gro  DGE-SC-0-1.gro  DGE-SC-1-0.gro  DGE-SC-1-1.gro</span>
<span class="gp">$</span>
</pre></div>
</div>
<p>What are we seeing here?  These are the <code class="docutils literal notranslate"><span class="pre">gro</span></code> files generated by <code class="docutils literal notranslate"><span class="pre">antechamber-parmchk2-tleap-parmed</span></code> processing for the original DGEBA molecule in <code class="docutils literal notranslate"><span class="pre">DGE.mol2</span></code>, the oxirane-regenerated molecules <code class="docutils literal notranslate"><span class="pre">DGEC</span></code> (C1 bonds to O1) and <code class="docutils literal notranslate"><span class="pre">DGEC-1</span></code> (C2 bonds to O2), and the three stereoisomers of the original DGEBA structure, called  <code class="docutils literal notranslate"><span class="pre">DGE-SC-0-1.gro</span></code> etc.  Notice that <code class="docutils literal notranslate"><span class="pre">DGEC</span></code> was the product in the explicit <code class="docutils literal notranslate"><span class="pre">Oxirane-generation</span></code> reaction dictionary; <code class="docutils literal notranslate"><span class="pre">DGEC-1</span></code> is generated by the symmetry-equivalent reaction.  Each of <code class="docutils literal notranslate"><span class="pre">DGEC-1.gro</span></code>, <code class="docutils literal notranslate"><span class="pre">DGEC.gro</span></code>, and <code class="docutils literal notranslate"><span class="pre">DGE.gro</span></code> also have companion <code class="docutils literal notranslate"><span class="pre">mol2</span></code>, <code class="docutils literal notranslate"><span class="pre">top</span></code>, <code class="docutils literal notranslate"><span class="pre">itp</span></code>, and <code class="docutils literal notranslate"><span class="pre">sea</span></code> files.  The <code class="docutils literal notranslate"><span class="pre">mol2</span></code>’s are generated by <code class="docutils literal notranslate"><span class="pre">antechamber</span></code> and can be considered “intermediates” in the parameterization process.  The original input <code class="docutils literal notranslate"><span class="pre">mol2</span></code> files in the <code class="docutils literal notranslate"><span class="pre">lib/molecules/inputs/</span></code> directory remain untouched.  The <code class="docutils literal notranslate"><span class="pre">top</span></code> and <code class="docutils literal notranslate"><span class="pre">itp</span></code> files are Gromacs-specific topology files, of course.  The <code class="docutils literal notranslate"><span class="pre">sea</span></code> files are atom-indexed listings of symmetry-set indices; most are -1 but atoms identified as belonging to the same symmetry sets are given unique set-specific values for this attribute.  The stereoisomer <code class="docutils literal notranslate"><span class="pre">gro</span></code> files don’t need their own topology files.  But there is a lot more in this directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls PAC*gro
<span class="go">PACDGE-1.gro  PACDGE2-1.gro  PACDGE2-2.gro  PACDGE2-3.gro  PACDGE2-4.gro</span>
<span class="go">PACDGE2-5.gro  PACDGE2-6.gro  PACDGE2-7.gro  PACDGE-2.gro  PACDGE2.gro</span>
<span class="go">PACDGE-3.gro  PACDGE.gro  PAC.gro  PAC-SC-0-1.gro  PAC-SC-1-0.gro</span>
<span class="go">PAC-SC-1-1.gro</span>
<span class="gp">$</span>
</pre></div>
</div>
<p>First, note the <code class="docutils literal notranslate"><span class="pre">gro</span></code> files for <code class="docutils literal notranslate"><span class="pre">PAC</span></code> and its three stereoisomers.  You can also see <code class="docutils literal notranslate"><span class="pre">gro</span></code> files for <code class="docutils literal notranslate"><span class="pre">PACDGE</span></code>, <code class="docutils literal notranslate"><span class="pre">PACDGE-1</span></code>, <code class="docutils literal notranslate"><span class="pre">PACDGE-2</span></code>, and <code class="docutils literal notranslate"><span class="pre">PACDGE-3</span></code>; <code class="docutils literal notranslate"><span class="pre">PACDGE</span></code> is the product of the explicit <code class="docutils literal notranslate"><span class="pre">Primary-to-seconary-amine</span></code> reaction dictionary, but what are these other three?  These are the results of so-called “symmetry-expansion” of the original reaction based on the symmetry-equivalent atom declaraions. The first, <code class="docutils literal notranslate"><span class="pre">PACDGE</span></code>, results from N1 of PACM bonding to C1 of DGEBA.  Since N1 is symmetric to N2 and C1 to C2, then the other three products are the result of N1-C2 (<code class="docutils literal notranslate"><span class="pre">PACDGE-1</span></code>), N2-C1 (<code class="docutils literal notranslate"><span class="pre">PACDGE-2</span></code>), and N2-C2 (<code class="docutils literal notranslate"><span class="pre">PACDGE-3</span></code>) bonds, respectively.  These are automatically enumerated by HTPolyNet because of the symmetry declarations.</p>
<p>You also see a <code class="docutils literal notranslate"><span class="pre">gro</span></code> file for <code class="docutils literal notranslate"><span class="pre">PACDGE2</span></code>, and then for seven other symmetry partners <code class="docutils literal notranslate"><span class="pre">PACDGE2-1</span></code> to <code class="docutils literal notranslate"><span class="pre">PACDGE2-7</span></code>.  Why are there <strong>eight</strong> distinct tertiary amine products?  The baseline product <code class="docutils literal notranslate"><span class="pre">PACDGE2</span></code> is formed by reacting the N1 of <code class="docutils literal notranslate"><span class="pre">PACDGE</span></code> to the C1 of <code class="docutils literal notranslate"><span class="pre">DGE</span></code>, but remember that <code class="docutils literal notranslate"><span class="pre">PACDGE</span></code> is formed by the reaction of N1 of <code class="docutils literal notranslate"><span class="pre">PAC</span></code> and C1 of a <strong>different</strong> <code class="docutils literal notranslate"><span class="pre">DGE</span></code>.  So the “sequence” of the product is <code class="docutils literal notranslate"><span class="pre">PAC</span></code> - <code class="docutils literal notranslate"><span class="pre">DGE</span></code> - <code class="docutils literal notranslate"><span class="pre">DGE</span></code> and each has a reactive atom in a symmetry set of size two; three slots with two possibilities in each is 2<sup>3</sup> = 8 realizations.  Each of these also have their own companion <code class="docutils literal notranslate"><span class="pre">mol2</span></code>, <code class="docutils literal notranslate"><span class="pre">top</span></code>, <code class="docutils literal notranslate"><span class="pre">itp</span></code>, and <code class="docutils literal notranslate"><span class="pre">sea</span></code> files.</p>
</section>
<section id="liquid-generation-and-densification">
<h2>Liquid generation and densification<a class="headerlink" href="#liquid-generation-and-densification" title="Permalink to this headline">¶</a></h2>
<p>After a few more minutes, when the densification MD simulation has finished, let’s back out of the <code class="docutils literal notranslate"><span class="pre">molecules/parameterized/</span></code> subdirectory and drop into <code class="docutils literal notranslate"><span class="pre">systems/init/</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ../../systems/init
<span class="gp">$ </span>ls -1
<span class="go">DGE.gro</span>
<span class="go">DGE-SC-0-1.gro</span>
<span class="go">DGE-SC-1-0.gro</span>
<span class="go">DGE-SC-1-1.gro</span>
<span class="go">gmx.in</span>
<span class="go">init.gro</span>
<span class="go">init.grx</span>
<span class="go">init-minimized.edr</span>
<span class="go">init-minimized.gro</span>
<span class="go">init-minimized.log</span>
<span class="go">init-minimized.tpr</span>
<span class="go">init-minimized.trr</span>
<span class="go">init.top</span>
<span class="go">liquid-densify-npt.mdp</span>
<span class="go">mdout.mdp</span>
<span class="go">minimize.mdp</span>
<span class="go">npt-1.cpt</span>
<span class="go">npt-1-density.xvg</span>
<span class="go">npt-1.edr</span>
<span class="go">npt-1.gro</span>
<span class="go">npt-1.log</span>
<span class="go">npt-1-out.xvg</span>
<span class="go">npt-1.tpr</span>
<span class="go">npt-1.trr</span>
<span class="go">PAC.gro</span>
<span class="go">PAC-SC-0-1.gro</span>
<span class="go">PAC-SC-1-0.gro</span>
<span class="go">PAC-SC-1-1.gro</span>
<span class="gp">$</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">PAC</span></code> and <code class="docutils literal notranslate"><span class="pre">DGE</span></code> <code class="docutils literal notranslate"><span class="pre">gro</span></code> files are used by <code class="docutils literal notranslate"><span class="pre">gmx</span> <span class="pre">insert-molecules</span></code> to build the initial coordinates, which appear in <code class="docutils literal notranslate"><span class="pre">init.gro</span></code>.  HTPolyNet built the initial topology <code class="docutils literal notranslate"><span class="pre">init.top</span></code> using the template topologies, and <code class="docutils literal notranslate"><span class="pre">init.grx</span></code> (a “Gromacs-extended” coordinate file) contains some additional atomic attributes HTPolyNet needs.  The <code class="docutils literal notranslate"><span class="pre">mdp</span></code> file <code class="docutils literal notranslate"><span class="pre">minimize.mdp</span></code> is “checked-out” from the system library and combined with <code class="docutils literal notranslate"><span class="pre">init.top</span></code> and <code class="docutils literal notranslate"><span class="pre">init.gro</span></code> via <code class="docutils literal notranslate"><span class="pre">gmx</span> <span class="pre">grompp</span></code> to build the <code class="docutils literal notranslate"><span class="pre">mdrun</span></code> input <code class="docutils literal notranslate"><span class="pre">init-minimized.tpr</span></code>.  The results of that minimization are all the <code class="docutils literal notranslate"><span class="pre">init-minimized</span></code> files.  Densification is governed by the <code class="docutils literal notranslate"><span class="pre">liquid-densify-npt.mdp</span></code> file, also checked-out from the system library.  The densification results are all in the <code class="docutils literal notranslate"><span class="pre">npt-1</span></code> files.  The set <code class="docutils literal notranslate"><span class="pre">init.top</span></code>, <code class="docutils literal notranslate"><span class="pre">init.grx</span></code>, and <code class="docutils literal notranslate"><span class="pre">npt-1.gro</span></code> together constitute the “densified” state of the liquid system, and these are what initiates the CURE iterations to follow.</p>
<p>However, first a little detour:  let’s go up out of <code class="docutils literal notranslate"><span class="pre">systems/init</span></code> and into <code class="docutils literal notranslate"><span class="pre">plots/</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ../../plots
<span class="gp">$ </span>ls
<span class="go">init-density.png</span>
</pre></div>
</div>
<p>HTPolyNet automatically generates a plot of density vs. time for the densification simulation:</p>
<img alt="../../_images/init-density.png" src="../../_images/init-density.png" />
<p>We can see that we’ve successfully arrived at the liquid-like density of about 1,000 kg/m<sup>3</sup>.</p>
</section>
<section id="the-first-cure-iteration">
<h2>The first CURE iteration<a class="headerlink" href="#the-first-cure-iteration" title="Permalink to this headline">¶</a></h2>
<p>The next major part of the build is the first CURE iteration, which is the most expensive because the pair searching is most demanding when the number of reactive atoms is maximal.  So let’s back out of <code class="docutils literal notranslate"><span class="pre">plots</span></code> and drop into <code class="docutils literal notranslate"><span class="pre">systems/iter-1</span></code>.  For a long time (maybe an hour or so), all you will see is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> ../systems/iter-1
<span class="gp">$ </span>ls
<span class="go">linkcell-0.50.grx</span>
</pre></div>
</div>
<p>That is an auxiliary file storing a link-cell index for each relevant atom (HTPolyNet uses a link-cell algorithm to perform the bond searching).  However, once the bond search is complete and we’ve entered the relaxation stages, we’ll see:</p>
</section>
<section id="subsequent-cure-iterations">
<h2>Subsequent CURE iterations<a class="headerlink" href="#subsequent-cure-iterations" title="Permalink to this headline">¶</a></h2>
</section>
<section id="post-cure-reactions">
<h2>Post-cure reactions<a class="headerlink" href="#post-cure-reactions" title="Permalink to this headline">¶</a></h2>
</section>
<section id="equilibration-and-finalization">
<h2>Equilibration and finalization<a class="headerlink" href="#equilibration-and-finalization" title="Permalink to this headline">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">HTPolyNet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation and Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference-guide/index.html">Reference Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Example Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">DGEBA-PACM Thermoset</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Example Tutorials</a><ul>
  <li><a href="index.html">DGEBA-PACM Thermoset</a><ul>
      <li>Previous: <a href="configuration.html" title="previous chapter">The Configuration File</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Cameron Abrams, Ming Huang.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/example-tutorials/3-DGEBA-PACM/run.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>