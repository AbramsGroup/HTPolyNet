<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Examples Using htpolynet postsim and analyze &#8212; HTPolyNet 1.0.8 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script src="../../_static/documentation_options.js?v=aec50437"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="References" href="../../references/index.html" />
    <link rel="prev" title="Results" href="../shortbuilds/3-VE-STY/results.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="examples-using-htpolynet-postsim-and-analyze">
<span id="tutorials-postsim-analyses"></span><h1>Examples Using <code class="docutils literal notranslate"><span class="pre">htpolynet</span> <span class="pre">postsim</span></code> and <code class="docutils literal notranslate"><span class="pre">analyze</span></code><a class="headerlink" href="#examples-using-htpolynet-postsim-and-analyze" title="Link to this heading">Â¶</a></h1>
<p>Here, we will return to the DGEBA/PACM build we did in the earlier tutorials.  Let us do the following:</p>
<ol class="arabic simple">
<li><p>Using the final results of the build as inputs, anneal the system for two cycles of heating and cooling between 300 and 600 K, using 10 ps rise-times and 10 ps hold-times.</p></li>
<li><p>Equilibrate at 300 K for an additional 10 ps.</p></li>
<li><p>Perform temperature ladder up to 600 K at 5 K per 100 ps, beginning with a 10 ps warmup.</p></li>
<li><p>Perform temperature ladder down to 300 K at 5 K per 100 ps, also beginning with a 10 ps warmup.</p></li>
<li><p>Using the result of 2, perform independent uniaxial deformations along the x, y, and z directions at a strain rate of 0.01 ps<sup>-1</sup> (10<sup>10</sup> s<sup>-1</sup>) to 0.1% strain.</p></li>
</ol>
<p>The flowchart below illustrates:</p>
<figure class="align-default">
<img alt="../../_images/postsim-typical.png" src="../../_images/postsim-typical.png" />
</figure>
<p>Navigate into that base directory and create the file <code class="docutils literal notranslate"><span class="pre">postsim.yaml</span></code> with these contents:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anneal</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.gro</span>
<span class="w">    </span><span class="nt">P</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">T0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">T1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
<span class="w">    </span><span class="nt">ncycles</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">    </span><span class="nt">T0_to_T1_ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">T1_ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">T1_to_T0_ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">T0_ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">equilibrate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/anneal/anneal.gro</span>
<span class="w">    </span><span class="nt">T</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">ladder</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/equilibrate/equilibrate.gro</span>
<span class="w">    </span><span class="nt">subdir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/ladder-heat</span>
<span class="w">    </span><span class="nt">Tlo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">Thi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
<span class="w">    </span><span class="nt">deltaT</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">    </span><span class="nt">ps_per_rise</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">ps_per_run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90</span>
<span class="w">    </span><span class="nt">warmup_ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">ladder</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/ladder-heat/ladder.gro</span>
<span class="w">    </span><span class="nt">subdir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/ladder-cool</span>
<span class="w">    </span><span class="nt">Tlo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">Thi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
<span class="w">    </span><span class="nt">deltaT</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-5</span>
<span class="w">    </span><span class="nt">ps_per_rise</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">ps_per_run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">90</span>
<span class="w">    </span><span class="nt">warmup_ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">deform</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/equilibrate/equilibrate.gro</span>
<span class="w">    </span><span class="nt">subdir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/deform-x</span>
<span class="w">    </span><span class="nt">T</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">P</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">x</span>
<span class="w">    </span><span class="nt">edot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>
<span class="w">    </span><span class="nt">ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">gromacs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gmx</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gmx</span>
<span class="w">      </span><span class="nt">mdrun</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gmx mdrun -ntmpi 1</span>
<span class="w">      </span><span class="nt">options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-quiet -nobackup</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">deform</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/equilibrate/equilibrate.gro</span>
<span class="w">    </span><span class="nt">subdir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/deform-y</span>
<span class="w">    </span><span class="nt">T</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">P</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">y</span>
<span class="w">    </span><span class="nt">edot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>
<span class="w">    </span><span class="nt">ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">gromacs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gmx</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gmx</span>
<span class="w">      </span><span class="nt">mdrun</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gmx mdrun -ntmpi 1</span>
<span class="w">      </span><span class="nt">options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-quiet -nobackup</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">deform</span><span class="p">:</span>
<span class="w">    </span><span class="nt">input_top</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">systems/final-results/final.top</span>
<span class="w">    </span><span class="nt">input_gro</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/equilibrate/equilibrate.gro</span>
<span class="w">    </span><span class="nt">subdir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postsim/deform-z</span>
<span class="w">    </span><span class="nt">T</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">    </span><span class="nt">P</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">direction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">z</span>
<span class="w">    </span><span class="nt">edot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>
<span class="w">    </span><span class="nt">ps</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">gromacs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gmx</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gmx</span>
<span class="w">      </span><span class="nt">mdrun</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">gmx mdrun -ntmpi 1</span>
<span class="w">      </span><span class="nt">options</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-quiet -nobackup</span>
</pre></div>
</div>
<p>This file will instruct HTPolyNet to use Gromacs to conduct several MD simulations.  First, the final results of the build are annealed for two cycles between 300 and 600 K.  Then the result of the annealing is equilibrated at 300 K.  Following, both an increasing and then decreasing temperature ladders are run; in parallel (using the equilibrated output), three uniaxial deformations are run.</p>
<p><em>Important disclaimer</em>:  Although <code class="docutils literal notranslate"><span class="pre">htpolynet</span> <span class="pre">postsim</span></code> is meant to facilitate production-grade MD simulations, those illustrated here are NOT; they are WAY TOO SHORT.  It is your responsibility to determine how long a simulation is needed for each kind of simulation.</p>
<p>Now, we can launch these simulations using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>htpolynet<span class="w"> </span>postsim<span class="w"> </span>-cfg<span class="w"> </span>postsim.yaml<span class="w"> </span>-ocfg<span class="w"> </span>DGEPAC.yaml<span class="w"> </span>-proj<span class="w"> </span>proj-0
</pre></div>
</div>
<p><em>Important note</em>: Because these runs are ridiculously short for illustration purposes, it is not unreasonable to put all their <code class="docutils literal notranslate"><span class="pre">postsim</span></code> directives in one long file.  However, if one imagines requiring several hours of supercomputer time to do each one, it makes sense to split them into separate files and submit a series of batch jobs.</p>
<p>The result of this action is first that the <code class="docutils literal notranslate"><span class="pre">postsim</span></code> directory is added to the project directory, with <code class="docutils literal notranslate"><span class="pre">anneal</span></code>, <code class="docutils literal notranslate"><span class="pre">equilibrate</span></code>, <code class="docutils literal notranslate"><span class="pre">ladder-heat</span></code>, and <code class="docutils literal notranslate"><span class="pre">ladder-cool</span></code> subdirectories:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">âââ lib</span>
<span class="go">âÂ Â  âââ molecules</span>
<span class="go">âÂ Â      âââ inputs</span>
<span class="go">âÂ Â      âââ parameterized</span>
<span class="go">âââ proj-0</span>
<span class="go">    âââ molecules</span>
<span class="go">    âÂ Â  âââ parameterized</span>
<span class="go">    âââ plots</span>
<span class="go">    âââ postsim</span>
<span class="go">    âÂ Â  âââ anneal</span>
<span class="go">    âÂ Â  âââ equilibrate</span>
<span class="go">    âÂ Â  âââ ladder-cool</span>
<span class="go">    âÂ Â  âââ ladder-heat</span>
<span class="go">    âââ systems</span>
<span class="go">        âââ capping</span>
<span class="go">        âââ densification</span>
<span class="go">        âââ final-results</span>
<span class="go">        âââ init</span>
<span class="go">        âââ iter-1</span>
<span class="go">        âââ iter-10</span>
<span class="go">        âââ iter-11</span>
<span class="go">        .</span>
<span class="go">        .</span>
<span class="go">        .</span>
<span class="go">        âââ postcure</span>
<span class="go">        âââ precure</span>
</pre></div>
</div>
<p>If we look inside the <code class="docutils literal notranslate"><span class="pre">anneal</span></code> subdirectory, we see several files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">proj-0/postsim/anneal/</span>
<span class="go">âââ anneal.cpt</span>
<span class="go">âââ anneal.csv</span>
<span class="go">âââ anneal.edr</span>
<span class="go">âââ anneal.gro</span>
<span class="go">âââ anneal.log</span>
<span class="go">âââ anneal.tpr</span>
<span class="go">âââ anneal.trr</span>
<span class="go">âââ final.gro</span>
<span class="go">âââ final.grx</span>
<span class="go">âââ final.top</span>
<span class="go">âââ local.mdp</span>
<span class="go">âââ mdout.mdp</span>
<span class="go">âââ rho_v_ns.png</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">final</span></code> files were copied directly from the <code class="docutils literal notranslate"><span class="pre">systems/final-results</span></code> directory, and the <code class="docutils literal notranslate"><span class="pre">anneal</span></code> files are the result of the run.  If we look inside <code class="docutils literal notranslate"><span class="pre">mdout.mdp</span></code>, we can see in particular the lines that control the heating:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">dt                       = 0.002</span>
<span class="go">nsteps                   = 40000</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">; SIMULATED ANNEALING</span>
<span class="go">; Type of annealing for each temperature group (no/single/periodic)</span>
<span class="go">annealing                = periodic</span>
<span class="go">; Number of time points to use for specifying annealing in each group</span>
<span class="go">annealing-npoints        = 5</span>
<span class="go">; List of times at the annealing points for each group</span>
<span class="go">annealing-time           = 0.0 10.0 20.0 30.0 40.0</span>
<span class="go">; Temp. at each annealing point, for each group.</span>
<span class="go">annealing-temp           = 300 600 600 300 300</span>
<span class="go">.</span>
<span class="go">.</span>
<span class="go">.</span>
</pre></div>
</div>
<p>A quick look at the plot of density vs. time that was generated on the fly:</p>
<figure class="align-default" id="id1">
<img alt="../../_images/rho_v_ns.png" src="../../_images/rho_v_ns.png" />
<figcaption>
<p><span class="caption-number">Fig. 27 </span><span class="caption-text">Density vs. time in the annealing stage.</span><a class="headerlink" href="#id1" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>This shows that two cycles were done, but unfortunately, we see that intention of the annealing was not met â the density did not increase as a result; in fact, it looks like it decreased.  AGAIN: this are stupidly short simulations just for illustration.</p>
<p>Below is an example of an analogous plot from a production simulation:</p>
<figure class="align-default" id="id2">
<img alt="../../_images/prod-rho_v_ns.png" src="../../_images/prod-rho_v_ns.png" />
<figcaption>
<p><span class="caption-number">Fig. 28 </span><span class="caption-text">Density vs. time in the annealing stage of a production MD simulation.</span><a class="headerlink" href="#id2" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>In this case, the much longer annealing did in fact increase the system density, as intended.  This is a three-cycle anneal lasting a total of 120 ns.</p>
<p>The equilibration stage also produces such a plot:</p>
<figure class="align-default" id="id3">
<img alt="../../_images/equil-rho_v_ns.png" src="../../_images/equil-rho_v_ns.png" />
<figcaption>
<p><span class="caption-number">Fig. 29 </span><span class="caption-text">Density vs. time in the equilibration stage.</span><a class="headerlink" href="#id3" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>This is a silly plot, since the equilibration is so short.  An example of an analogous post-anneal equilibration (from the same example as above) is this one:</p>
<figure class="align-default" id="id4">
<img alt="../../_images/prod-equil-rho_v_ns.png" src="../../_images/prod-equil-rho_v_ns.png" />
<figcaption>
<p><span class="caption-number">Fig. 30 </span><span class="caption-text">Density vs. time in the equilibration stage of the production MD simulation.</span><a class="headerlink" href="#id4" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>That equilibration lasted 100 ns and resulted in a significant densification.  This type of plot is important since it reveals a transient in the first 60% or so of the simulation, meaning that equilibrium measurements should be averages over only the last 40 ns or so of the trajectory.</p>
<p>Now, with a single invocation of <code class="docutils literal notranslate"><span class="pre">htpolynet</span> <span class="pre">plots</span></code>, we can compute T<sub>g</sub> and E.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>htpolynet<span class="w"> </span>plots<span class="w"> </span>post<span class="w"> </span>--cfg<span class="w"> </span>postsim.yaml<span class="w"> </span>--proj<span class="w"> </span>proj-0
INFO&gt;
INFO&gt;<span class="w">     </span>HTPolyNet<span class="w"> </span><span class="m">1</span>.0.6
INFO&gt;<span class="w">     </span>https://abramsgroup.github.io/HTPolyNet/
INFO&gt;
INFO&gt;<span class="w">     </span>Ming<span class="w"> </span>Huang
INFO&gt;<span class="w">     </span>mh3429@dragons.drexel.edu
INFO&gt;
INFO&gt;<span class="w">     </span>Cameron<span class="w"> </span>F.<span class="w"> </span>Abrams
INFO&gt;<span class="w">     </span>cfa22@drexel.edu
INFO&gt;
INFO&gt;<span class="w">     </span>Supported<span class="w"> </span><span class="k">in</span><span class="w"> </span>part<span class="w"> </span>by<span class="w"> </span>Grants<span class="w"> </span>W911NF-17-2-0227
INFO&gt;<span class="w">     </span>and<span class="w"> </span>W911NF-12-R-0011<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>US<span class="w"> </span>Army<span class="w"> </span>Research<span class="w"> </span>Lab
INFO&gt;
INFO&gt;<span class="w"> </span>anneal-equilibrate-ladder-ladder-deform-deform-deform-density.png<span class="w"> </span>created.
INFO&gt;<span class="w"> </span>mean<span class="w"> </span>density<span class="w"> </span><span class="m">1069</span><span class="w"> </span>kg/m^3<span class="w"> </span><span class="o">(</span><span class="m">1</span>.069<span class="w"> </span>g/cc<span class="o">)</span>
INFO&gt;<span class="w"> </span>ladder0-data.csv<span class="w"> </span>created.
INFO&gt;<span class="w"> </span>ladder1-data.csv<span class="w"> </span>created.
INFO&gt;<span class="w"> </span>tg.png<span class="w"> </span>created.
INFO&gt;<span class="w"> </span>heating<span class="w"> </span><span class="nv">Tg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">394</span>.91<span class="w"> </span>K<span class="w"> </span><span class="o">(</span><span class="m">121</span>.76<span class="w"> </span>C<span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">0</span>.05000<span class="w"> </span>K/ps<span class="w"> </span><span class="o">(</span><span class="m">5</span>.000e+10<span class="w"> </span>K/s<span class="o">)</span>
INFO&gt;<span class="w"> </span>cooling<span class="w"> </span><span class="nv">Tg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">451</span>.03<span class="w"> </span>K<span class="w"> </span><span class="o">(</span><span class="m">177</span>.88<span class="w"> </span>C<span class="o">)</span><span class="w"> </span>at<span class="w"> </span>-0.05000<span class="w"> </span>K/ps<span class="w"> </span><span class="o">(</span>-5.000e+10<span class="w"> </span>K/s<span class="o">)</span>
/home/cfa/anaconda3/envs/mol-env/lib/python3.10/site-packages/scipy/optimize/_minpack_py.py:906:<span class="w"> </span>OptimizeWarning:<span class="w"> </span>Covariance<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>parameters<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>be<span class="w"> </span>estimated
warnings.warn<span class="o">(</span><span class="s1">&#39;Covariance of the parameters could not be estimated&#39;</span>,
/home/cfa/Git/HTPolyNet/HTPolyNet/utils.py:404:<span class="w"> </span>RuntimeWarning:<span class="w"> </span>invalid<span class="w"> </span>value<span class="w"> </span>encountered<span class="w"> </span><span class="k">in</span><span class="w"> </span>scalar<span class="w"> </span>divide
<span class="nv">r2</span><span class="o">=</span><span class="m">1</span>-sse.sum<span class="o">()</span>/sst.sum<span class="o">()</span>
INFO&gt;<span class="w"> </span>e.png<span class="w"> </span>and<span class="w"> </span>E.csv<span class="w"> </span>created.<span class="w"> </span><span class="nv">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>.120<span class="w"> </span>GPa<span class="w"> </span><span class="o">(</span>R^2<span class="w"> </span>nan<span class="o">)</span>
</pre></div>
</div>
<p>We see the troubling result that T<sub>g</sub> is different between the heating and cooling ladders; this of course is because these AGAIN ARE VERY SHORT simulations. This also generates a nice plot:</p>
<figure class="align-default" id="id5">
<img alt="../../_images/short-tg.png" src="../../_images/short-tg.png" />
<figcaption>
<p><span class="caption-number">Fig. 31 </span><span class="caption-text">Density vs. temperature in the heating (left) and cooling (right) simulations in this example.</span><a class="headerlink" href="#id5" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>In practice, we should run much longer simulations and average over replicas.  Below is the analogous plot for a production MD simulation:</p>
<figure class="align-default" id="id6">
<img alt="../../_images/prod-tg.png" src="../../_images/prod-tg.png" />
<figcaption>
<p><span class="caption-number">Fig. 32 </span><span class="caption-text">Density vs. temperature in the heating (left) and cooling (right) simulations in production simulations, averaged over five replicas, with a heating rate of 5 K per 100 ns.</span><a class="headerlink" href="#id6" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>We also note a ridiculous value for the Youngâs modulus of 7.1 GPa.  The plot of stress vs strain shows this is meaningless from such a short simulation:</p>
<figure class="align-default" id="id7">
<img alt="../../_images/short-e.png" src="../../_images/short-e.png" />
<figcaption>
<p><span class="caption-number">Fig. 33 </span><span class="caption-text">Stress vs. strain, averaged over deformations along x, y, and z, for our short simulation.</span><a class="headerlink" href="#id7" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>Again, in practice, this should be the result of much longer simulations and averaging over replicas.  If done correctly, we see something like this:</p>
<figure class="align-default" id="id8">
<img alt="../../_images/prod-e.png" src="../../_images/prod-e.png" />
<figcaption>
<p><span class="caption-number">Fig. 34 </span><span class="caption-text">Stress vs. strain, averaged over deformations along x, y, and z, and over five replicas and a strain rate of 10<sup>8</sup> s<sup>-1</sup>.</span><a class="headerlink" href="#id8" title="Link to this image">Â¶</a></p>
</figcaption>
</figure>
<p>Finally, letâs use <code class="docutils literal notranslate"><span class="pre">analyze</span></code> to measure fractional free volume in the equilibration stage.  Using the shortcut approach, we need an input YAML file <code class="docutils literal notranslate"><span class="pre">fv.yaml</span></code> that just has one line:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">freevolume</span>
</pre></div>
</div>
<p>Then</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>htpolynet<span class="w"> </span>analyze<span class="w"> </span>-cfg<span class="w"> </span>fv.yaml<span class="w"> </span>-proj<span class="w"> </span>proj-0
</pre></div>
</div>
<p>So we can look at <code class="docutils literal notranslate"><span class="pre">analyze/freevolume/ffv.dat</span></code>:abbr:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Free volume 37.82 +/- 0.15 %</span>
<span class="go">Total volume 138.40 +/- 0.33 nm^3</span>
<span class="go">Number of molecules 1 total mass 89116.20 Dalton</span>
<span class="go">Average molar mass: 89116.20 Dalton</span>
<span class="go">Density rho: 1069.20 +/- 19.54 nm^3</span>
<span class="go">Molecular volume Vm assuming homogeneity: 138.4034 +/- 0.3274 nm^3</span>
<span class="go">Molecular van der Waals volume assuming homogeneity:  86.0656 +/- 0.0000 nm^3</span>
<span class="go">Fractional free volume 0.192 +/- 0.001</span>
</pre></div>
</div>
<p>If we wanted to perform this on the production example, we would probably like to begin at 60,000 ps or so:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">freevolume</span>
<span class="w">  </span><span class="nt">options</span><span class="p">:</span>
<span class="w">    </span><span class="nt">b</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60000</span>
</pre></div>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">HTPolyNet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation and Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Example Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../shortbuilds/index.html">Examples Using <code class="docutils literal notranslate"><span class="pre">htpolynet</span> <span class="pre">run</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Examples Using <code class="docutils literal notranslate"><span class="pre">htpolynet</span> <span class="pre">postsim</span></code> and <code class="docutils literal notranslate"><span class="pre">analyze</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../HTPolyNetPackage.html">HTPolyNet package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Example Tutorials</a><ul>
      <li>Previous: <a href="../shortbuilds/3-VE-STY/results.html" title="previous chapter">Results</a></li>
      <li>Next: <a href="../../references/index.html" title="next chapter">References</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Cameron Abrams, Ming Huang.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/example-tutorials/postsim_analyses/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>