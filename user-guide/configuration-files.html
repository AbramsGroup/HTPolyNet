
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuration Files &#8212; HTPolyNet 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Molecular Structure Inputs" href="molecular-structure-inputs.html" />
    <link rel="prev" title="Important Things to Know" href="things-to-know.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="configuration-files">
<h1>Configuration Files<a class="headerlink" href="#configuration-files" title="Permalink to this headline">¶</a></h1>
<p>An HTPolyNet configuration file is a list of keyword:value pairs in <code class="docutils literal notranslate"><span class="pre">YAML</span></code> format.  The <code class="docutils literal notranslate"><span class="pre">Library</span></code> subpackage as a few example configuration files in the <code class="docutils literal notranslate"><span class="pre">cfg</span></code> directory.</p>
<p>The items in a configuration file break down into two major classes:</p>
<ol class="arabic simple">
<li><p>Items that specify run-time <em>parameters</em>.</p></li>
<li><p>Items that specify the system <em>chemistry</em>.</p></li>
</ol>
<section id="htpolynet-parameters">
<h2>HTPolyNet parameters<a class="headerlink" href="#htpolynet-parameters" title="Permalink to this headline">¶</a></h2>
<p>Below is a table of parameter keywords and descriptions for parameters that govern the overall execution of HTPolyNet.</p>
<section id="general-parameters">
<h3>General parameters<a class="headerlink" href="#general-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 11%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description (default)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Title</span></code></p></td>
<td><p>str</p></td>
<td><p>Descriptive title</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gmx</span></code></p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">gmx</span></code> command (<code class="docutils literal notranslate"><span class="pre">gmx``(default)</span> <span class="pre">or</span> <span class="pre">``gmx_mpi</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">gmx_options</span></code></p></td>
<td><p>quoted string</p></td>
<td><p>options to pass to all <code class="docutils literal notranslate"><span class="pre">gmx</span></code> calls (‘-quiet -nobackup’)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">gmx_mdrun</span></code></p></td>
<td><p>quoted string</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mdrun</span></code> command; defaults to <code class="docutils literal notranslate"><span class="pre">gmx</span> <span class="pre">(options)</span> <span class="pre">mdrun</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initial_density</span></code></p></td>
<td><p>float</p></td>
<td><p>initial system density in kg/m3 (300.0)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CURE_initial_search_radius</span></code></p></td>
<td><p>float</p></td>
<td><p>initial capture radius in nm (0.5)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CURE_radial_increment</span></code></p></td>
<td><p>float</p></td>
<td><p>capture radius increment (0.25)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">desired_conversion</span></code></p></td>
<td><p>float</p></td>
<td><p>desired fraction of possible crosslink bonds to form</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_CURE_iterations</span></code></p></td>
<td><p>int</p></td>
<td><p>maximum number of CURE iterations to run prior to reaching desired conversion</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">late_treshhold</span></code></p></td>
<td><p>float</p></td>
<td><p>conversion above which reactions are all treated with probability 1.0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">charge_method</span></code></p></td>
<td><p>string</p></td>
<td><p>“gas” for Gasteiger; “bcc” for bcc; passed directly to antechamber</p></td>
</tr>
</tbody>
</table>
<p>Other control parameters govern detailed aspects of the CURE algorithm.  These involve MD simulations performed immediately prior to and immediately after new bond addition to the topology, in order to relax those bonds.</p>
<p>Prior to introducing new bonds, one has the option of <em>“dragging”</em> atoms destined to be bonded to each other closer together in a series of dragging simulations.  The series is composed of stages, each of which involves three <code class="docutils literal notranslate"><span class="pre">gmx</span> <span class="pre">mdrun</span></code> calls: (1) a minimization; (2) an NVT relaxation; and (3) an NPT relaxation.  Soon-to-be-bonded atoms are connected by fictitious (type-6) harmonic bonds with equilibrium distances set at the current separation distances and relatively weak spring constants.  With each successive stage, the bond lengths are reduced and the spring constants increased until the desired separation distance and spring constant are achieved.  Dragging is optional.</p>
</section>
<section id="dragging-parameters">
<h3>Dragging parameters<a class="headerlink" href="#dragging-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 9%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description (default)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_drag_stages</span></code></p></td>
<td><p>int</p></td>
<td><p>number of drag stages to perform</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drag_limit</span></code></p></td>
<td><p>float</p></td>
<td><p>minimum distance each separation should achieve (nm); 0.0 turns off dragging (0.0)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drag_nvt_steps</span></code></p></td>
<td><p>int</p></td>
<td><p>number of MD steps for NVT relaxation during dragging (-2, signals <code class="docutils literal notranslate"><span class="pre">gmx</span> <span class="pre">mdrun</span></code> to use the value in the mdp file)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drag_npt_steps</span></code></p></td>
<td><p>int</p></td>
<td><p>number of MD steps for NPT relaxation during dragging (-2, signals <code class="docutils literal notranslate"><span class="pre">gmx</span> <span class="pre">mdrun</span></code> to use the value in the mdp file)</p></td>
</tr>
</tbody>
</table>
<p><em>After</em> new bonds are formed and all other bonded interactions, atom types, and charges are mapped from each bond’s appropriate template, a series of <em>bond relaxation</em> MD simulations are performed.  These are in all ways similar to the optional <em>dragging</em> simulations except for the fact that here, the actual chemical bond parameters are progressively brought to their correct values as specified in the GAFF.  Bond relaxation is <em>required</em> because most new bonds are much longer than they should be at equilibrium.</p>
</section>
<section id="bond-relaxation-parameters">
<h3>Bond relaxation parameters<a class="headerlink" href="#bond-relaxation-parameters" title="Permalink to this headline">¶</a></h3>
<p>Parameter                         Type          Description
================================= ====          ===========
<code class="docutils literal notranslate"><span class="pre">initial_composition</span></code>           dict          keys: monomer names, values: numbers of molecules in system
<code class="docutils literal notranslate"><span class="pre">reactions</span></code>                     list          reaction dicts, one per reaction
<code class="docutils literal notranslate"><span class="pre">use_symmetry_equivalent_atoms</span></code> list          monomers for which symmetry-equivalent atoms are used
================================= ====          ===========</p>
</section>
<section id="reaction-dicts">
<h3>Reaction dicts<a class="headerlink" href="#reaction-dicts" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 5%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>str</p></td>
<td><p>descriptive name</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stage</span></code></p></td>
<td><p>str</p></td>
<td><p>“cure” or “post-cure”</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">probability</span></code></p></td>
<td><p>float</p></td>
<td><p>probability that bond will form in one iteration if identified (1.0)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reactants</span></code></p></td>
<td><p>dict</p></td>
<td><p>keyword: reactant key, value: reactant molecule name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">product</span></code></p></td>
<td><p>str</p></td>
<td><p>name of product molecule</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">atoms</span></code></p></td>
<td><p>dict</p></td>
<td><p>keyword: atom key, value: atom dict</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bonds</span></code></p></td>
<td><p>list</p></td>
<td><p>list of bond dicts, one item per bond formed in reaction</p></td>
</tr>
</tbody>
</table>
</section>
<section id="atom-dicts">
<h3>Atom dicts<a class="headerlink" href="#atom-dicts" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 4%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">reactant</span></code></p></td>
<td><p>key</p></td>
<td><p>key to reactant in reactant dict to which this atom max_bond_relaxation_stages</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resid</span></code></p></td>
<td><p>int</p></td>
<td><p>residue index in reactant molecular sequence to which this atom belongs (begins at 1)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">atom</span></code></p></td>
<td><p>str</p></td>
<td><p>name of atom within that residue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
<td><p>int</p></td>
<td><p>number of available crosslink bonds for this atom</p></td>
</tr>
</tbody>
</table>
</section>
<section id="bond-dicts">
<h3>Bond dicts<a class="headerlink" href="#bond-dicts" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 9%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">atoms</span></code></p></td>
<td><p>list</p></td>
<td><p>list with the two atom keys the comprise the bond</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">order</span></code></p></td>
<td><p>float</p></td>
<td><p>bond order (currently not used; we let antechamber decide)</p></td>
</tr>
</tbody>
</table>
<p>An example reaction-dict is shown below:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w">     </span><span class="l l-Scalar l-Scalar-Plain">Primary-to-secondary-amine</span><span class="w"></span>
<span class="nt">stage</span><span class="p">:</span><span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">cure</span><span class="w"></span>
<span class="nt">reactants</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> 1</span><span class="p">:</span><span class="w"> </span><span class="nv">DFA</span><span class="p p-Indicator">,</span><span class="nt"> 2</span><span class="p">:</span><span class="w"> </span><span class="nv">FDE</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="nt">product</span><span class="p">:</span><span class="w">   </span><span class="l l-Scalar l-Scalar-Plain">DFAFDE</span><span class="w"></span>
<span class="nt">probability</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w"></span>
<span class="nt">atoms</span><span class="p">:</span><span class="w"></span>
<span class="w">     </span><span class="nt">A</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> reactant</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nt"> resid</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nt"> atom</span><span class="p">:</span><span class="w"> </span><span class="nv">N1</span><span class="p p-Indicator">,</span><span class="nt"> z</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="w">     </span><span class="nt">B</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> reactant</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="nt"> resid</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nt"> atom</span><span class="p">:</span><span class="w"> </span><span class="nv">C1</span><span class="p p-Indicator">,</span><span class="nt"> z</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"></span>
<span class="nt">bonds</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> atoms</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">A</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">B</span><span class="p p-Indicator">],</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"></span>
</pre></div>
</div>
<p>This reaction-dict defines the reaction between an amine-containing molecule (DFA) and an epoxy-containing molecule (FDE) to produce an oligomer (DFAFDE).   It is instructive to read this YAML from bottom up.  There is one bond in the list of bond between atoms “A” and “B”.  These are keys in the atoms dict right above.  “A” is the N1 atom of resid 1 of reactant 1, and “B” is the C1 atom of resid 1 of reactant 2.  The reactant keys are associated with molecule names in the reactants dict.  We see here that reactant 1 is DFA and reactant 2 is FDE.</p>
<p>The values of the <code class="docutils literal notranslate"><span class="pre">atom:</span></code> keys in the atoms dict entries are atom names <strong>as they appear in the mol2 file of the associated resid</strong>.  In <strong>this</strong> case, both DFA and FDE are <strong>monomers</strong>: they are molecules with a single resid in their sequence. (Reactant and product molecules need not be monomers, but HTPolyNet must be able to trace any molecule back to its monomeric constituents by recursively traversing all reactions.) That is, this implies there is a unique atom named <code class="docutils literal notranslate"><span class="pre">N1</span></code> in the file <code class="docutils literal notranslate"><span class="pre">DFA.mol2</span></code>, and a unique atom <code class="docutils literal notranslate"><span class="pre">C1</span></code> in the file <code class="docutils literal notranslate"><span class="pre">FDE.mol2</span></code>.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">HTPolyNet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation and Prerequisites</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="algorithm.html">The Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="things-to-know.html">Important Things to Know</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="molecular-structure-inputs.html">Molecular Structure Inputs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference-guide/index.html">Reference Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">User Guide</a><ul>
      <li>Previous: <a href="things-to-know.html" title="previous chapter">Important Things to Know</a></li>
      <li>Next: <a href="molecular-structure-inputs.html" title="next chapter">Molecular Structure Inputs</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Cameron Abrams, Ming Huang.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/user-guide/configuration-files.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>